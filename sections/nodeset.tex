\subsection{Node-Suspension data structure}\label{sec:nodeset}

Fortunately, the scale of the PMW calculation and number of recalculations can be minimized by the introduction of a new data structure. Consider the previous example of Figure \ref{fig0}. The growth of $v_0$ and $v_2$ are prioritized for two iterations, such that new (trivial) vertices are added to the cluster on the boundary of $v_0$ and $v_2$, in Figure \ref{fig1}. Note that per iteration half-edges are added to the boundary. If we repeat the process of PMW calculation, we now find that the PMW's in the new vertices connected to $v_0$ are equal, and the same is true for vertices connected to $v_2$. These regions of equal PMW vertices, together with the vertices they have been added to which are now interior elements of the associated graph, can be used as nodes in a simplified tree representation of the cluster. 

\Figure[htb](topskip=0pt, botskip=0pt, midskip=0pt){tikzfigs/tikz-figure1.pdf}{The cluster of Figure \ref{fig0} after two round of prioritized growth of $v_0$ and $v_2$. There are regions of vertices that are either interior elements or have equal potential matching weights, which can be represented as nodes with different node radii in the node-tree $\nset$. \label{fig1}}

\begin{definition}
  The node-tree of a cluster $\nset$ is a partition of the cluster such that each element of the partition - a node $n$ - consists of a set of adjacent vertices that are either interior elements in the associated graph or have equal PMW. 
\end{definition}

The boundary vertices of equal PMW of a node which has grown prioritized are now located at a larger distance from the interior non-trivial vertex or syndrome than those of delayed growth. This property of the node can be stored as the \textbf{node radius} $nr$, which can be used to calculate the PMW of a node without $\vset$. For the example in Figure \ref{fig1}, the PMW of $n_0$ is $\floor{nr_0} + (n_1, n_2) + 1$.

The calculation of the PMW on the node-tree $\nset$ rather than the vertex-tree $\vset$ offers a reduction in the cost. However, it is still no trivial task as the entire tree must be considered for the calculation in each node. Instead, we will compute for the \textbf{node suspension} --- the number of growth iterations needed to reach the maximum PMW in the node-tree --- which relates closely to the PWM. For example, the node suspension for $\nset = \{n_0, n_1, n_2\}$ of the cluster in Figure \ref{fig0} is $\{0, 2, 0\}$ and $\{0, 1, 0\}$ in Figure \ref{fig1}, as half-edges are added per growth iteration. 

\Figure[htb](topskip=0pt, botskip=0pt, midskip=0pt){tikzfigs/tikz-figure2.pdf}{Two different types of nodes. Syndrome-nodes $sn$ have a non-trivial vertex or syndrome at its center. Vertices that lie on the radii of two existing nodes initialize a junction-node $jn$ in the node-tree.\label{fig2}}

There are different types of nodes that determine the way in which the node suspension is calculated, which is detailed in \ref{sec:paritydelaysus}. The nodes with a non-trivial vertex or syndrome element at its center is dubbed a \textbf{syndrome-node} $sn$. These are the nodes we have encountered so far in Figures \ref{fig0} and \ref{fig1}. If two non-trivial vertices are located an even manhattan-distance on the lattice, their growths will simultaneously reach some vertex that lies on both radii of the associated nodes, such as in Figure \ref{fig2}. For this reason, such vertices will always initialize a second type \textbf{junction-node} $jn$ in the combined node-tree. Also, in the case of erasure errors, which are equivalent a connected vertex-tree prior to growth, all trivial vertices in the cluster must initialize junction-nodes in the node-tree.

The Node-Suspension data structure, which exists to prioritize zero node suspension growth, does not replace but coexists with the Union-Find data structure, which allows for differentiation between clusters. However, the Node-Suspension data structure does require a small change in the Union-Find decoder, which constructs the vertex-trees after growth via a depth-first-search (DFS) of the cluster. The node-trees are connected, acyclic graphs, which depends upon that the vertex-trees of the Union-Find data structure are also always acyclic. The maintenance of these acyclic vertex-trees can be done in constant time and the resulting trees are equivalent to the ones constructed post-growth in the original UF decoder. 
