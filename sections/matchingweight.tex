\subsection{Potential matching weight}\label{sec:matchingweight}

In the following we give some intuition into the improvement of the Union-Find Balanced Bloom decoder upon the original Union-Find decoder. Consider the cluster containing the set of non-trivial vertices $\mathcal{V}=\{v_0,v_1,v_2\}$ and set of edges $\m{E}=\{(v_0,v_1), (v_1, v_2)\}$ in Figure \ref{fig0}. Now let us investigate the weights of a matching if an additional non-trivial vertex $v'$ is connected to the cluster. If $v'$ is connected to $v_0$ or to $v_2$, then the resulting matching has a total weight of 2: $(v',v_0)$ and $(v_1,v_2)$, or $(v_0,v_1)$ and $(v_2,v')$. However, if $v'$ is connected to vertex $v_2$, then the total weight is 3: $(v', v_1)$ and $(v_0, v_2)$. Inspired by this idea, we introduce the concept of potential matching weight (PMW) of a vertex. 

\Figure[htb](topskip=0pt, botskip=0pt, midskip=0pt){tikzfigs/tikz-figure0.pdf}{A cluster of vertices $\vset=\{v_0, v_1, v_2\}$ with potential matching weights $\{2, 3, 2\}$. The linestyle and color of the colored edges correspond to the position of the newly added vertex $v'$.\label{fig0}}

\begin{definition}\label{def:pmw}
    Consider an odd-parity cluster $c(\m{V},\m{E})$ containing a vertex $v\in \m{V}$. The Potential Matching Weight (PMW) of the vertex $v$ is the matching weight in the subset of edges of the cluster $c$ in a hypothetical union with another odd-parity cluster in the next growth iteration, where the merging boundary edge is $(v,v')$. 
    \begin{equation}
      PMW(v) = \abs{\m{C} \cap (\m{E} \cup (v, v'))} + 1 \mid v' \notin \m{V} 
    \end{equation}
\end{definition}
In other words, the potential matching weight is a vertex-specific predictive heuristic to the matching weight assuming a union in the next growth iteration.

We compared the ratio of of the matchings between the MWPM decoder and our own implementation of the UF decoder, averaged over many simulations, and found that UF matching weight has a constant prefactor of $\sim 1.043$ over the minimum weight for the toric code (Figure \ref{tmw_comp}). From this, we suspected that a decreased matching weight is an heuristic for an increased threshold. Within the context of the UF decoder, the matching weight may be decreased by prioritizing the growth of vertices with low PWM's within the cluster. 

However, the calculation of the PMW's within a cluster is seemingly not straightforward, especially for clusters of increasingly larger size. Furthermore, the PWM's within a cluster is subjected to changes due to cluster growth and union events. Recalculating the PMW's of the clusters after such events would increase the algorithm's time complexity dramatically. 
